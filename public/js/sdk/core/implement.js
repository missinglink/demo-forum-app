// Generated by CoffeeScript 1.3.3
(function() {

  app.declare = function(target, root, nsArr, exec) {
    var checked, curr, i, ns, _i, _len;
    curr = root;
    checked = [root];
    for (i = _i = 0, _len = nsArr.length; _i < _len; i = ++_i) {
      ns = nsArr[i];
      if (i + 1 === nsArr.length) {
        if (typeof curr[ns] === 'undefined') {
          curr[ns] = exec ? target() : target;
          return;
        } else {
          throw 'Namespace duplicated: ' + nsArr.join('.');
        }
      }
      if (typeof curr[ns] === 'undefined') {
        curr[ns] = {};
      }
      curr = curr[ns];
    }
  };

  app.declare(function(func, nsArr, exec) {
    return app.declare(func, app, nsArr, exec);
  }, app, ['implement'], false);

  app.declare(function(root, nsArr) {
    var checked, curr, i, ns, _i, _len;
    curr = root;
    checked = [root];
    for (i = _i = 0, _len = nsArr.length; _i < _len; i = ++_i) {
      ns = nsArr[i];
      if (i + 1 === nsArr.length) {
        if (curr[ns] != null) {
          return curr[ns];
        } else {
          throw 'Namespace fetch failed: ' + nsArr.join('.');
        }
      }
      if (typeof curr[ns] === 'undefined') {
        throw 'Namespace fetch failed: ' + nsArr.join('.');
      }
      curr = curr[ns];
    }
  }, app, ['utils', 'namespace', 'fetch'], false);

}).call(this);
