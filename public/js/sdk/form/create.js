// Generated by CoffeeScript 1.3.3
(function() {

  app.implement(function() {
    var doFormAction, getFormAction, getFormData, self;
    self = {};
    getFormAction = function(form) {
      var actionNs;
      actionNs = form.attr('action');
      if (app.action.get(actionNs)) {
        return app.action.get(actionNs);
      } else {
        return null;
      }
    };
    getFormData = function(form) {
      var dataArr, dataEntry, dataObj, _i, _len;
      dataArr = form.serializeArray();
      dataObj = {};
      for (_i = 0, _len = dataArr.length; _i < _len; _i++) {
        dataEntry = dataArr[_i];
        dataObj[dataEntry.name] = dataEntry.value;
      }
      return dataObj;
    };
    doFormAction = function(form) {
      var action;
      action = getFormAction(form);
      if (typeof action === 'function') {
        action(getFormData(form), form);
        return true;
      }
      return false;
    };
    self.getData = getFormData;
    self.action = {
      get: getFormAction,
      perform: doFormAction
    };
    return self;
  }, ['form'], true);

}).call(this);
